<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management App</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollSmoother.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="../static/css/admin_dashboard.css">
</head>
<body class="d-flex flex-column min-vh-100">
    {% include 'partials/navbar.html' %}

    <!-- <aside class="bg-secondary text-white position-fixed top-0 start-0 vh-100 d-flex flex-column justify-content-start align-items-center">
        <button class="btn btn-primary toggle-menu">
            <i class="fa-solid fa-bars"></i>
        </button>
        <ul class="nav flex-column">
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fa-solid fa-user"></i> Profile</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fa-solid fa-list-check"></i> Tasks</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fa-solid fa-gear"></i> Settings</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fa-solid fa-right-from-bracket"></i> Logout</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fa-solid fa-bug"></i> Report a Bug</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white"><ion-icon name="people-outline"></ion-icon> Community Forums</a></li>
            <li class="nav-item"><a href="#" class="nav-link text-white"><i class="fa-solid fa-question"></i> Feedback</a></li>
            <li class="nav-item"><a href="admin.html" class="nav-link text-white"><i class="fa-solid fa-question"></i> Admin</a></li>
        </ul>
    </aside> -->
    <main class="container mt-5 pt-5 shadow">
        <section class="w-100">
            <div class="row bg-transparent g-3">
                <div class="col-md-4">
                    <div class="card p-3 shadow-sm">
                        <h2 class="h5">Total Users</h2>
                        <p class="h3">{{users or "no users"}}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card p-3 shadow-sm">
                        <h2 class="h5">Active Users</h2>
                        <p class="h3">{{active_users or "no active users"}}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card p-3 shadow-sm">
                        <h2 class="h5">New Users</h2>
                        <p class="h3">{{new_users or "no new users"}}</p>
                    </div>
                </div>
            </div>
        </section>
    
        <section class="row mt-4">
            <div class="col-md-6">
                <div class="d-flex flex-column gap-3">
                    <div class="card">
                        <div class="card-header">
                            <h3>Users added per month</h3>
                        </div>
                        <div class="card-body">
                            <canvas class="w-100" id="chart-1"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="d-flex flex-column gap-3">
                    <div class="card">
                        <div class="card-header">
                            <h3>Users</h3>
                        </div>
                        <div class="card-body">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Status</th>
                                        <th>Registration Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        {%if users %}
                                            {% for u in users %}
                                                <td>{{ u.id }}</td>
                                                <td>{{ u.name }}</td>
                                                <td>{{ u.email }}</td>
                                                <td><span class="badge bg-success">Active</span></td>
                                                <td>{{ u.registration_date }}</td>
                                            {% endfor %}
                                            
                                        {% endif %}
                                        {% if not users %}
                                            <p>No users found.</p>
                                        {% endif %}
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>New Users</h3>
                        </div>
                        <div class="card-body">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Status</th>
                                        <th>Registration Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        {%if users %}
                                            {% for u in users %}
                                                <td>{{ u.id }}</td>
                                                <td>{{ u.name }}</td>
                                                <td>{{ u.email }}</td>
                                                <td><span class="badge bg-success">Active</span></td>
                                                <td>{{ u.registration_date }}</td>
                                            {% endfor %}
                                        {% endif %}
                                        {% if not users %}
                                            <p>No new users found.</p>
                                        {% endif %}
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</body>
<script>
    // const toggleMenu = document.querySelector("button.toggle-menu")
    // const aside = document.querySelector("aside")
    // const lineChartData = {
    //     labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
    //     datasets: [{
    //         label: 'users added',
    //         data: [12, 19, 3, 5, 2, 3, 10],
    //         backgroundColor: 'rgba(75, 192, 192, 1)',
    //         borderColor: 'rgba(75, 192, 192, .5)',
    //         borderWidth: 1
    //     }]
    // };
    // const lineChart = new Chart(document.getElementById('chart-1'), {
    //     type: 'line',
    //     data: lineChartData,
    //     options: {
    //         responsive: true,
    //         plugins: {
    //             legend: {
    //                 position: 'bottom'
    //             },
    //             title: {
    //                 display: true
    //             }
    //         }
    //     }
    // });
    // toggleMenu.addEventListener("click",function(){
    //     aside.classList.toggle("fade-out")
    // })
</script>
</html>
